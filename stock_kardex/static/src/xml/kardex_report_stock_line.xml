<?xml version="1.0" encoding="UTF-8"?>

<templates>
    <t t-name="nextActionDate">
        <span data-toggle='tooltip' data-placement='bottom' t-att-title='note'><t t-esc='date'></t></span><i class="fa fa-fw fa-pencil-square"></i>
    </t>
    <t t-name="foldable">
        <span t-att-class="'o_account_reports_foldable ' + lineId + ' o_account_reports_caret_icon'"><i class="fa fa-fw fa-caret-down"></i></span>
    </t>
    <t t-name="unfoldable">
        <span t-att-class="'o_account_reports_unfoldable ' + lineId + ' o_account_reports_caret_icon'"><i class="fa fa-fw fa-caret-right"></i></span>
    </t>
    <t t-name="o_account_reports_pencil_icon">
        <span class="o_account_reports_pencil_icon"><i class="fa fa-fw fa-pencil-square"></i></span>
    </t>
    <t t-name="trashAndPencilIcon">
        <span style="position: absolute; margin-left: 3px;"><i class="fa fa-fw fa-pencil-square"></i><i class="fa fa-fw fa-trash-o"></i> </span>
    </t>
    <t t-name="report_kardex_stock_line">
        <t t-set="column" t-value="0" />
        <t t-set="domainClass" t-value="'o_account_reports_domain_line_2'"/>
        <t t-if="!(_.isUndefined(l.level))">
            <t t-if="l.level == 1">
                <t t-set="domainClass" t-value="'o_account_reports_domain_line_1'"/>
            </t>
            <t t-if="l.level == 3">
                <t t-set="domainClass" t-value="'o_account_reports_domain_line_3'"/>
            </t>
        </t>
        <tr t-att-class="l.type" t-att-data-type="l.type" t-att-data-id="l.id">
            <td t-att-colspan="l.colspan != undefined ? l.colspan : 1">
                <t t-if="l.type != 'account_id' &amp; l.type != 'move_line_id' &amp; l.type != 'too_many'"><span t-att-data-id="l.id" t-att-class="l.type + ' ' + domainClass">
                    <t t-esc="l.name"/></span>
                    <t t-if="l.footnotes[column] != undefined">
                        <t t-set='footNoteSeqNum' t-value="l.footnotes[column]" />
                        <t t-call="supFootNoteSeqNum" />
                    </t>
                </t>
                <a t-if="l.type == 'too_many'">
                    <span t-att-data-active-id="l.id" data-action-name="account.action_move_line_select" t-att-class="'o_account_reports_web_action ' + domainClass"><t t-esc="l.name"/></span>
                </a>
                <div class="dropdown" t-if="l.type =='move_line_id'">
                    <a data-toggle="dropdown" href='#'>
                        <span t-att-data-id="l.id" t-att-class="l.type + ' ' + domainClass"><t t-esc="l.name"></t></span><span class="caret"></span>
                    </a>
                    <t t-if="l.footnotes[column] != undefined">
                        <t t-set='footNoteSeqNum' t-value="l.footnotes[column]" />
                        <t t-call="supFootNoteSeqNum" />
                    </t>
                    <ul class="dropdown-menu o_account_reports_domain_dropdown" role="menu" aria-labelledby="dLabel">
                        <li role="presentation" t-if="l.type == 'move_line_id'"><a role="menuitem" tabindex="-1" t-att-data-active-id="l.id" data-res-model="stock.pack.operation" class="o_account_reports_web_action">View Move</a></li>
                         <li role="presentation" t-if="l.type == 'move_line_id'"><a role="menuitem" tabindex="-1" t-att-data-active-id="l.move_id" data-res-model="stock.picking" class="o_account_reports_web_action">View Picking</a></li>  
                    </ul>
                </div>
            </td>
            <t t-foreach="l.columns" t-as="c">
                <t t-set="column" t-value="column + 1" />
                <td t-att-class="types[column - 1] == 'number' and  'text-right' or types[column - 1] == 'text' and  'text-left' or 'text-center'" style="white-space: nowrap;">
                    <t t-if="typeof c == 'string' || typeof c == 'number'"><span>
                        <t t-raw="c"/>
                        <t t-if="l.footnotes[column] != undefined">
                            <t t-set='footNoteSeqNum' t-value="l.footnotes[column]" />
                            <t t-call="supFootNoteSeqNum" />
                        </t>
                    </span></t>
                    <t t-if="typeof c != 'string' &amp; typeof c != 'number'"><span t-att-style="c[1]">
                        <t t-raw="c[0]"/>
                        <t t-if="l.footnotes[column] != undefined">
                            <t t-set='footNoteSeqNum' t-value="l.footnotes[column]" />
                            <t t-call="supFootNoteSeqNum" />
                        </t>
                    </span></t>
                </td>
            </t>
        </tr>
    </t>
    <div t-name='footnoteForm'>
        <form role="form">
            <textarea name="note" rows='4' class="o_account_reports_footnote_note" placeholder="Insert foot note here"></textarea>
            <input type='hidden' class='o_account_reports_footnote_type' t-att-value='type' />
            <input type='hidden' class='o_account_reports_footnote_target_id' t-att-value='target_id' />
            <input type='hidden' class='o_account_reports_footnote_column' t-att-value='column' />
        </form>
    </div>
</templates>
